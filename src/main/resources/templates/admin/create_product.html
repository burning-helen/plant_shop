<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</title>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<h1 class="mb-4">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h1>

<form th:action="@{/admin/products}" th:object="${plant}" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    <div class="mb-3">
        <label for="name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
        <input type="text" id="name" th:field="*{name}" class="form-control" required>
    </div>

    <div class="mb-3">
        <label for="description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
        <textarea id="description" th:field="*{description}" class="form-control" rows="3" required></textarea>
    </div>

    <div class="mb-3">
        <label for="price" class="form-label">–¶–µ–Ω–∞</label>
        <input type="number" id="price" th:field="*{price}" step="0.01" class="form-control" required>
    </div>

    <div class="mb-3">
        <label for="parentCategory" class="form-label">–ì–ª–∞–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</label>
        <select id="parentCategory" name="parentCategoryId" class="form-select" required>
            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –≥–ª–∞–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
            <option th:each="parent : ${categories}"
                    th:value="${parent.id}"
                    th:text="${parent.name}">
            </option>
        </select>
    </div>

    <div class="mb-3">
        <label for="subCategory" class="form-label">–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</label>
        <select id="subCategory" name="subCategoryId" class="form-select" required>
            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
            <th:block th:each="parent : ${categories}">
                <th:block th:if="${#maps.containsKey(subcategoriesMap, parent.id)}">
                    <th:block th:each="sub : ${subcategoriesMap.get(parent.id)}">
                        <option th:value="${sub.id}" th:text="${parent.name + ' ‚Üí ' + sub.name}"></option>
                    </th:block>
                </th:block>
            </th:block>
        </select>
    </div>

    <div class="mb-3">
        <label for="plantType" class="form-label">–¢–∏–ø —Ä–∞—Å—Ç–µ–Ω–∏—è</label>
        <select id="plantType" th:field="*{plantType}" class="form-select" required>
            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
            <option th:each="type : ${plantTypes}"
                    th:value="${type}"
                    th:text="${type}"></option>
        </select>
    </div>

    <div class="mb-3">
        <label for="stockQuantity" class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ</label>
        <input type="number" id="stockQuantity" th:field="*{stockQuantity}" class="form-control" required>
    </div>

    <div class="mb-3">
        <label for="imageFile" class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
        <input type="file" id="imageFile" name="imageFile" class="form-control" accept="image/png, image/jpeg">
    </div>

    <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä</button>
</form>

<hr class="my-4">

<a th:href="@{/admin/products}" class="btn btn-outline-secondary me-2">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É —Ç–æ–≤–∞—Ä–æ–≤</a>
<a th:href="@{/home}" class="btn btn-outline-secondary">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
